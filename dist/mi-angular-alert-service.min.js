!function(r){function e(o){if(t[o])return t[o].exports;var n=t[o]={exports:{},id:o,loaded:!1};return r[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var t={};return e.m=r,e.c=t,e.p="",e(0)}([function(r,e,t){"use strict";var o=t(1),n=t(3),a=t(2);r.exports=angular.module("mi.AlertService",[]).provider("StateChangeErrorHandler",n).provider("ResponseErrorInterceptor",a).service("AlertService",o).constant("ALERT_LEVELS",{danger:{timeout:5e3},warning:{timeout:4e3},success:{timeout:3e3},info:{timeout:2e3}})},function(r,e){"use strict";function t(r,e,t,o){function n(n,a,i){o.has("$translate")&&(a=o.get("$translate").instant(a));var c={type:n,msg:a,close:function(){return s.closeAlert(this)}};r.alerts.push(c),void 0===i&&(i=n in t?t[n].timeout:0),i>0&&e(function(){s.closeAlert(c)},i)}function a(e){return s.closeAlertIdx(r.alerts.indexOf(e))}function i(e){return r.alerts.splice(e,1)}function c(){r.alerts=[]}r.alerts=[];var s={add:n,closeAlert:a,closeAlertIdx:i,clear:c};return s}t.$inject=["$rootScope","$timeout","ALERT_LEVELS","$injector"],r.exports=t},function(r,e){"use strict";function t(r){function e(e,t,n,a){if(r.has("$urlMatcherFactoryProvider")===!1)throw new Error("mi.AlertService.ResponseErrorInterceptorProvider:No $urlMatcherFactoryProvider was found. This is a dependency to AngularUI Router.");o.push({errorUrl:r.get("$urlMatcherFactoryProvider").compile(e),method:t,errorMessage:n,exclude:a})}var t,o=[],n={addErrorHandling:e,$get:["$q","$rootScope","StateChangeErrorHandler","AlertService",function(r,e,n,a){function i(e){for(var t=0,n=o.length;n>t;t++)if(c(o[t],e)){var i=o[t].errorMessage;null!==i&&"object"==typeof i&&(i=s(o[t],e)),a.add("danger",i);break}return r.reject(e)}function c(r,e){return l(r,e.config)&&e.config.method===r.method&&u(r.exclude,e.status)&&n.hasStateError(t)===!1}function s(r,e){var t=e.data,o=r.errorMessage.custom;if(o&&o.length>0&&t&&t.code)for(var n=o.length,a=0;n>a;a++){var i=o[a];if(i.status===e.status&&i.code===t.code)return i.message}return r.errorMessage["default"]}function u(r,e){return angular.isObject(r)&&angular.isArray(r.statusCodes)&&0!==r.statusCodes.length?-1===r.statusCodes.indexOf(e):!0}function l(r,e){if(!r||!e||!e.url)return!1;var t=r.errorUrl.exec(e.url,e.params);if(t){for(var o in t)if(void 0===t[o])return!1;return!0}return!1}e.$on("$stateChangeStart",function(r,e){t=e.name}),e.$on("$stateChangeSuccess",function(){t=""});var d={responseError:i};return d}]};return n}t.$inject=["$injector"],r.exports=t},function(r,e){"use strict";function t(r){function e(e,o,n,a,i){if(r.has("$urlMatcherFactoryProvider")===!1)throw new Error("mi.AlertService.StateChangeErrorHandlerProvider:No $urlMatcherFactoryProvider was found. This is a dependency to AngularUI Router.");t.push({state:e,errorUrl:r.get("$urlMatcherFactoryProvider").compile(o),method:n,errorMessage:a,handleMethod:i})}var t=[],o={addErrorHandling:e,$get:["$rootScope","$injector","AlertService",function(r,e,o){function n(){r.$on("$stateChangeError",i)}function a(r){return t.some(function(e){return e.state===r})}function i(r,n,a,i,c,s){t.forEach(function(r){n.name===r.state&&s.config&&s.config.url&&r.errorUrl.exec(s.config.url)&&s.config.method===r.method&&(o.add("danger",r.errorMessage),r.handleMethod&&e.invoke(r.handleMethod))})}var c={init:n,hasStateError:a};return c}]};return o}t.$inject=["$injector"],r.exports=t}]);